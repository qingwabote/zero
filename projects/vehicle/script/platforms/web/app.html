<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>vehicle</title>
  <link rel="icon" href="/assets/favicon.ico" />
</head>

<body style="display:flex;">
  <div id="ZeroContainer">
    <canvas id="ZeroCanvas" width="640" height="960"></canvas>
  </div>
  <div id="ControlContainer">
    <div>
      <input id="eulerXInput" type="range" min="-180" max="180" value="0" />
      <label id="eulerXLabel"></label>
    </div>
    <div>
      <input id="eulerYInput" type="range" min="-180" max="180" value="0" />
      <label id="eulerYLabel"></label>
    </div>
    <div>
      <input id="eulerZInput" type="range" min="-180" max="180" value="0" />
      <label id="eulerZLabel"></label>
    </div>
  </div>
  <script>
    const currentScript = document.currentScript;
    const req = new XMLHttpRequest();
    // use synchronous request
    req.open('GET', "/script/imports.json", false);
    req.onload = function () {
      const imports = JSON.parse(req.response);
      for (const key in imports) {
        imports[key] = "/script/" + imports[key];
      }
      const im = document.createElement('script');
      im.type = 'importmap';
      im.textContent = JSON.stringify({ imports });
      currentScript.after(im);
    };
    req.send();
  </script>
  <script type="module">
    import WebLoader from "./dist/script/platforms/webgl/WebLoader.js";
    window.loader = new WebLoader;

    import WebDevice from "./dist/script/platforms/webgl/gfx/WebDevice.js";
    window.device = new WebDevice(document.getElementById("ZeroCanvas"));
    import WebNS from "./dist/script/platforms/webgl/gfx/WebNS.js";
    window.gfx = new WebNS;
  </script>
  <script type="module">
    import App from "./dist/projects/vehicle/script/main/App.js";
    import webgame from "./dist/script/platforms/webgl/webgame.js";
    webgame.run(document.getElementById("ZeroCanvas"), App);
  </script>
</body>

</html>