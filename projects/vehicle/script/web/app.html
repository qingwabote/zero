<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>zero</title>
  <link rel="icon" href="/assets/favicon.ico" />
</head>

<body style="display:flex;">
  <div id="ZeroContainer">
    <canvas id="ZeroCanvas" width="640" height="960"></canvas>
  </div>
  <div id="ControlContainer">
    <div>
      <input id="eulerXInput" type="range" min="-180" max="180" value="0" />
      <label id="eulerXLabel"></label>
    </div>
    <div>
      <input id="eulerYInput" type="range" min="-180" max="180" value="0" />
      <label id="eulerYLabel"></label>
    </div>
    <div>
      <input id="eulerZInput" type="range" min="-180" max="180" value="0" />
      <label id="eulerZLabel"></label>
    </div>
  </div>
  <script>
    const currentScript = document.currentScript;
    const req = new XMLHttpRequest();
    // use synchronous request
    req.open('GET', "./imports.json", false);
    req.onload = function () {
      const im = document.createElement('script');
      im.type = 'importmap';
      im.textContent = `
      {
        "imports": ${req.response}
      }`;
      currentScript.after(im);
    };
    req.send();
  </script>
  <script type="module">
    import { run } from "engine-webgl";
    const project = document.location.pathname.split('/')[2];
    const App = await import(`./dist/projects/${project}/script/main/App.js`);
    run(App.default);
  </script>
</body>

</html>